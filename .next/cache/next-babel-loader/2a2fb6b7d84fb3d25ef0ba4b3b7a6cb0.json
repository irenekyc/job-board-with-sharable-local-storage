{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useSelector, useDispatch } from 'react-redux';\nimport { clear_filter, set_page } from '../store/actions/query';\nimport { getData, getLatestJob, newSearch } from '../store/actions/jobs';\nimport { useEffect, useState } from 'react';\n\nconst Pagination = () => {\n  const dispatch = useDispatch();\n  const {\n    search,\n    location,\n    page,\n    filteredSearch\n  } = useSelector(state => state.query);\n  const {\n    0: hasPrev,\n    1: setHasPrev\n  } = useState(false);\n  const {\n    0: hasNext,\n    1: setHasNext\n  } = useState(true);\n  useEffect(() => {\n    if (page <= 1) {\n      setHasPrev(false);\n    } else {\n      setHasPrev(true);\n    }\n  }, [page]);\n\n  const clearFilterHandler = () => {\n    dispatch(newSearch());\n    dispatch(clear_filter());\n    dispatch(getLatestJob(1));\n  };\n\n  const PaginationHandler = action => {\n    dispatch(newSearch());\n    let newPage;\n\n    if (action === \"prev\") {\n      newPage = page - 1;\n    } else {\n      newPage = page + 1;\n    }\n\n    if (filteredSearch) {\n      dispatch(getData(search, location, newPage));\n    } else {\n      dispatch(getLatestJob(newPage));\n      dispatch(set_page(newPage));\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"pagination-row\"\n  }, search && __jsx(\"p\", {\n    className: \"pagination-search\"\n  }, \" You search for \", __jsx(\"span\", {\n    className: \"filter-text\"\n  }, search), \" \"), location && __jsx(\"p\", {\n    className: \"pagination-location\"\n  }, \" Jobs in \", __jsx(\"span\", {\n    className: \"filter-text\"\n  }, location)), search || location ? __jsx(\"p\", {\n    className: \"pagination-clear\",\n    onClick: clearFilterHandler\n  }, \"Clear Filter\") : null, hasPrev && __jsx(\"span\", {\n    onClick: () => PaginationHandler(\"prev\"),\n    className: \"pagination-prev\"\n  }, \" Prev \"), hasNext && __jsx(\"span\", {\n    onClick: () => PaginationHandler(\"next\"),\n    className: \"pagination-next\"\n  }, \" Next \"));\n};\n\nexport default Pagination;","map":null,"metadata":{},"sourceType":"module"}